<app-loading *ngIf="loading"></app-loading>

<mat-card *ngIf="!loading">
  <mat-card-content>
    <mat-card-title>Health Card</mat-card-title>
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="basic-form">
      <div fxLayout="row flex-layout">
        <div fxFlex="100">
          <mat-form-field appearance="fill">
            <mat-label>Account Type</mat-label>
            <mat-select [formControl]="AccountTypeId" [errorStateMatcher]="matcher">
              <mat-option *ngFor="let accountType of accountTypes" [value]="accountType.id">{{
                accountType.name
              }}</mat-option>
            </mat-select>
          </mat-form-field>
          <small
            *ngIf="AccountTypeId.invalid && AccountTypeId.touched"
            class="text-danger support-text"
            >{{ selectFieldError(AccountTypeId) }}</small
          >
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="Account Holder Name"
              type="text"
              [formControl]="AccountHolderName"
            />
          </mat-form-field>
          <small
            *ngIf="AccountHolderName.invalid && AccountHolderName.touched"
            class="text-danger support-text"
            >{{ textFieldError(AccountHolderName) }}</small
          >
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input matInput placeholder="Balance" type="text" [formControl]="Balance" />
          </mat-form-field>
          <small *ngIf="Balance.invalid && Balance.touched" class="text-danger support-text">{{
            textFieldError(Balance)
          }}</small>
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input matInput placeholder="IHI Number" type="text" [formControl]="IhiNumber" />
          </mat-form-field>
          <small *ngIf="IhiNumber.invalid && IhiNumber.touched" class="text-danger support-text">{{
            textFieldError(IhiNumber)
          }}</small>
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="IHI Record Status"
              type="text"
              [formControl]="IhiRecordStatus"
            />
          </mat-form-field>
          <small
            *ngIf="IhiRecordStatus.invalid && IhiRecordStatus.touched"
            class="text-danger support-text"
            >{{ textFieldError(IhiRecordStatus) }}</small
          >
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="Medicare Number"
              type="text"
              [formControl]="MedicareNumber"
            />
          </mat-form-field>
          <small
            *ngIf="MedicareNumber.invalid && MedicareNumber.touched"
            class="text-danger support-text"
            >{{ textFieldError(MedicareNumber) }}</small
          >
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              [matDatepicker]="picker"
              placeholder="Expiry Date (MM/YYYY)"
              [formControl]="MedicareExpiry"
            />
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker
              #picker
              startView="multi-year"
              (monthSelected)="setMonthAndYear($event, picker)"
              panelClass="example-month-picker"
            ></mat-datepicker>
          </mat-form-field>
          <small
            *ngIf="MedicareExpiry.invalid && MedicareExpiry.touched"
            class="text-danger support-text"
            >{{ medicareExpiryError }}</small
          >
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="Private Fund Name"
              type="text"
              [formControl]="PrivateFundName"
            />
          </mat-form-field>
          <small
            *ngIf="PrivateFundName.invalid && PrivateFundName.touched"
            class="text-danger support-text"
            >{{ textFieldError(PrivateFundName) }}</small
          >
        </div>

        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="Private Fund Membership Number"
              type="text"
              [formControl]="PrivateFundMembershipNumber"
            />
          </mat-form-field>
          <small
            *ngIf="PrivateFundMembershipNumber.invalid && PrivateFundMembershipNumber.touched"
            class="text-danger support-text"
            >{{ textFieldError(PrivateFundMembershipNumber) }}</small
          >
        </div>

        <div fxFlex="100">
          <mat-form-field>
            <input matInput placeholder="DVA Number" type="text" [formControl]="DvaNumber" />
          </mat-form-field>
          <small *ngIf="DvaNumber.invalid && DvaNumber.touched" class="text-danger support-text">{{
            textFieldError(DvaNumber)
          }}</small>
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="DVA Disability"
              type="text"
              [formControl]="DvaDisability"
            />
          </mat-form-field>
          <small
            *ngIf="DvaDisability.invalid && DvaDisability.touched"
            class="text-danger support-text"
            >{{ textFieldError(DvaDisability) }}</small
          >
        </div>
        <div fxFlex="100">
          <mat-form-field appearance="fill">
            <mat-label>DVA Card Colour</mat-label>
            <mat-select [formControl]="DvaCardColourId" [errorStateMatcher]="matcher">
              <mat-option *ngFor="let dvaCardColour of dvaCardColours" [value]="dvaCardColour.id">{{
                dvaCardColour.name
              }}</mat-option>
            </mat-select>
          </mat-form-field>
          <small
            *ngIf="DvaCardColourId.invalid && DvaCardColourId.touched"
            class="text-danger support-text"
            >{{ selectFieldError(DvaCardColourId) }}</small
          >
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="HCC/Pension Card Number"
              type="text"
              [formControl]="HccPensionCardNumber"
            />
          </mat-form-field>
          <small
            *ngIf="HccPensionCardNumber.invalid && HccPensionCardNumber.touched"
            class="text-danger support-text"
            >{{ selectFieldError(HccPensionCardNumber) }}</small
          >
        </div>
        <div *ngIf="errors.length > 0" class="text-danger">
          <ul>
            <li *ngFor="let error of errors">
              {{ error }}
            </li>
          </ul>
        </div>
        <div fxFlex="100">
          <button mat-raised-button color="primary">Submit</button>
        </div>
      </div>
    </form>
  </mat-card-content>
</mat-card>
