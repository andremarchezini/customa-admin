<app-loading *ngIf="loading"></app-loading>

<mat-card *ngIf="!loading">
  <mat-card-content>
    <mat-card-title>Clinician</mat-card-title>
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="basic-form">
      <div fxLayout="row flex-layout" fxLayoutGap="20px">
        <div fxFlex.gt-sm="calc(33%-20px)" fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="Clinician First Name"
              type="text"
              [formControl]="FirstName"
            />
          </mat-form-field>
          <small *ngIf="FirstName.invalid && FirstName.touched" class="text-danger support-text">{{
            textFieldError(FirstName)
          }}</small>
        </div>
        <div fxFlex.gt-sm="calc(33%-20px)" fxFlex="100">
          <mat-form-field>
            <input matInput placeholder="Clinician Surname" type="text" [formControl]="LastName" />
          </mat-form-field>
          <small *ngIf="LastName.invalid && LastName.touched" class="text-danger support-text">{{
            textFieldError(LastName)
          }}</small>
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="Clinician Provider Number"
              type="text"
              [formControl]="ProviderNumber"
            />
          </mat-form-field>
          <small
            *ngIf="ProviderNumber.invalid && ProviderNumber.touched"
            class="text-danger support-text"
            >{{ textFieldError(ProviderNumber) }}</small
          >
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="Clinician Practice Name"
              type="text"
              [formControl]="PracticeName"
            />
          </mat-form-field>
          <small
            *ngIf="PracticeName.invalid && PracticeName.touched"
            class="text-danger support-text"
            >{{ textFieldError(PracticeName) }}</small
          >
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="Clinician Address"
              type="text"
              (keyup)="search()"
              [formControl]="Address"
            />
          </mat-form-field>
          <small *ngIf="Address.invalid && Address.touched" class="text-danger support-text">{{
            textFieldError(Address)
          }}</small>
        </div>
        <div>
          <div
            *ngFor="let place of places"
            (click)="getPlace(place.placeId)"
            class="p-t-5 p-b-5 cursor-pointer"
          >
            {{ place.formattedAddress }}
          </div>
        </div>

        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="Clinician Address 2"
              type="text"
              [formControl]="AddressExtra"
            />
          </mat-form-field>
          <small
            *ngIf="AddressExtra.invalid && AddressExtra.touched"
            class="text-danger support-text"
            >{{ textFieldError(AddressExtra) }}</small
          >
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input matInput placeholder="Clinician Suburb" type="text" [formControl]="Suburb" />
          </mat-form-field>
          <small *ngIf="Suburb.invalid && Suburb.touched" class="text-danger support-text">{{
            textFieldError(Suburb)
          }}</small>
        </div>
        <div fxFlex="100">
          <mat-form-field appearance="fill">
            <mat-label>State</mat-label>
            <mat-select [formControl]="StateId" [errorStateMatcher]="matcher">
              <mat-option *ngFor="let stateOption of states" [value]="stateOption.id">{{
                stateOption.name
              }}</mat-option>
            </mat-select>
          </mat-form-field>
          <small *ngIf="StateId.invalid && StateId.touched" class="text-danger support-text">{{
            selectFieldError(StateId)
          }}</small>
        </div>
        <div fxFlex="100">
          <mat-form-field appearance="fill">
            <mat-label>Country</mat-label>
            <mat-select [formControl]="CountryId" [errorStateMatcher]="matcher">
              <mat-option *ngFor="let country of countries" [value]="country.id">{{
                country.name
              }}</mat-option>
            </mat-select>
          </mat-form-field>
          <small *ngIf="CountryId.invalid && CountryId.touched" class="text-danger support-text">{{
            selectFieldError(CountryId)
          }}</small>
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="Clinician Practice Phone Number (08 XXXX XXXX)"
              type="text"
              [formControl]="PracticePhone"
              mask="99 9999 9999"
            />
          </mat-form-field>
          <small
            *ngIf="PracticePhone.invalid && PracticePhone.touched"
            class="text-danger support-text"
            >{{ textFieldError(PracticePhone) }}</small
          >
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="Clinician Practice Email"
              type="email"
              [formControl]="PracticeEmail"
            />
          </mat-form-field>
          <small
            *ngIf="PracticeEmail.invalid && PracticeEmail.touched"
            class="text-danger support-text"
            >{{ textFieldError(PracticeEmail) }}</small
          >
        </div>
        <div fxFlex="100">
          <mat-form-field>
            <input
              matInput
              placeholder="Clinician Practice URL"
              type="email"
              [formControl]="PracticeUrl"
            />
          </mat-form-field>
          <small
            *ngIf="PracticeUrl.invalid && PracticeUrl.touched"
            class="text-danger support-text"
            >{{ textFieldError(PracticeUrl) }}</small
          >
        </div>
        <div *ngIf="errors.length > 0" class="text-danger">
          <ul>
            <li *ngFor="let error of errors">
              {{ error }}
            </li>
          </ul>
        </div>
        <div fxFlex="100">
          <button mat-raised-button color="primary">Submit</button>
        </div>
      </div>
    </form>
  </mat-card-content>
</mat-card>
